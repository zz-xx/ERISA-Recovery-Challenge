{% extends "base.html" %}

{% block title %}Login{% endblock %}

{% block content %}
<article class="login-card">
    <h1 class="text-center">ERISA Recovery Login</h1>

    {% if messages %}
    <ul class="text-success" style="list-style: none; padding-left: 0;">
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    {% if form.errors %}
    <p class="form-error">Your username and password didn't match. Please try again.</p>
    {% endif %}

    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        
        <label for="id_username">
            Username
            <input type="text" name="username" autofocus autocapitalize="none" autocomplete="username" maxlength="150" required id="id_username">
        </label>
        
        <label for="id_password">
            Password
            <input type="password" name="password" autocomplete="current-password" required id="id_password">
        </label>
        
        <input type="hidden" name="next" value="{{ next }}">
        
        <button type="submit">Login</button>
    </form>

    <p class="text-center text-muted" style="margin-top: 1rem;">
        New user? <a href="{% url 'register' %}">Create account</a>
    </p>
</article>
{% endblock %}
